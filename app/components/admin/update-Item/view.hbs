{{#component "js-comp admin-updateitem"}}
{{#with _DATA_}}
<p class="components-title"><strong class="tab-">产品修改</strong></p>
<form class="form form-aligned js-item-update" novalidate="true" data-id="{{item.id}}">
  <fieldset>
    <div class="control-group control-group-2">
      <label for="">产品代码:</label>
      <span name="itemCode" class="content" data-itemcode="{{item.itemCode}}">{{item.itemCode}}</span>
    </div>
    <div class="control-group control-group-2">
      <label for="">产品名称:</label>
      <span name="itemName" class="content" data-itemname="{{item.itemName}}">{{item.itemName}}</span>
    </div>
    <div class="control-group control-group-2">
      <label for=""><span class="required">*</span>销售价格:</label>
      <input required name="price" type="text" placeholder="销售价格" value="{{formatPrice item.price}}" pattern="^[0-9]+(.[0-9]{0,2})?$">
      <span class="note-error-empty">请输入销售价格</span>
      <span class="note-error">请输入正确的销售价格,如66.66</span>
    </div>
    <div class="control-group control-group-2">
      <label for="">实际价格:</label>
      <span name="originPrice" class="content" data-originprice="{{item.originPrice}}">{{formatPrice item.originPrice "Y" 2 }}(元)</span>
    </div>
    <div class="control-group control-group-2">
      <label for="">限购数量:</label>
      <input name="buyLimit" value="{{item.buyLimit}}" type="text" placeholder="限购数量">
    </div>
    <div class="control-group">
      <label for=""><span class="required">*</span>产品主图片地址:</label>
      <input required class="info-input" name="mainImage" value="{{item.mainImage}}" type="url" placeholder="产品主图片地址">
      <img class="icon-null img" src="{{item.mainImage}}"/>
      <div class="btn btn-upload btn-primary">
        <span>上传</span>
        <input class="js-item-img" type="file" name="file" single>
      </div>
      <span class="note-error">请输入正确的产品主图片地址</span>
      <span class="note-error-empty">请输入产品主图片地址</span>
    </div>
    <div class="control-group">
      <label for="">产品图片地址1:</label>
      <input class="info-input" name="image1" value="{{itemDetail.image1}}" type="text" placeholder="产品图片地址1">
      <img class="{{#if itemDetail.image1}} {{else}}icon-null{{/if}} img" src="{{itemDetail.image1}}"/>
      <div class="btn btn-upload btn-primary">
        <span>上传</span>
        <input class="js-item-img" type="file" name="file" single>
      </div>
    </div>
    <div class="control-group ">
      <label for="">产品图片地址2:</label>
      <input class="info-input" name="image2" value="{{itemDetail.image2}}" type="text" placeholder="产品图片地址2">
      <img class="{{#if itemDetail.image2}} {{else}}icon-null{{/if}} img" src="{{itemDetail.image2}}"/>
      <div class="btn btn-upload btn-primary">
        <span>上传</span>
        <input class="js-item-img" type="file" name="file" single>
      </div>
    </div>
    <div class="control-group">
      <label for="">产品图片地址3:</label>
      <input class="info-input" name="image3" value="{{itemDetail.image3}}" type="text" placeholder="产品图片地址3">
      <img class="{{#if itemDetail.image3}} {{else}}icon-null{{/if}} img" src="{{itemDetail.image3}}"/>
      <div class="btn btn-upload btn-primary">
        <span>上传</span>
        <input class="js-item-img" type="file" name="file" single>
      </div>
    </div>
    <div class="control-group">
      <label for="">产品图片地址4:</label>
      <input class="info-input" name="image4" value="{{itemDetail.image4}}" type="text" placeholder="产品图片地址4:">
      <img class="{{#if itemDetail.image4}} {{else}}icon-null{{/if}} img" src="{{itemDetail.image4}}"/>
      <div class="btn btn-upload btn-primary">
        <span>上传</span>
        <input class="js-item-img" type="file" name="file" single>
      </div>
    </div>
    <div class="control-group control-group-2">
      <label for="">产品类别:</label>
      <span name="type" class="content" data-type="{{item.type}}">
        {{#equals item.type "1"}}冰箱{{/equals}}
        {{#equals item.type "2"}}洗衣机{{/equals}}
        {{#equals item.type "3"}}空调{{/equals}}
        {{#equals item.type "4"}}厨电{{/equals}}
        {{#equals item.type "5"}}热水器{{/equals}}
        {{#equals item.type "6"}}电视{{/equals}}
        {{#equals item.type "7"}}冷柜{{/equals}}
      </span>
    </div>
    {{#each itemAttributeList}}
    <div class="control-group control-group-2">
      <label for="">{{attributeKey}}:</label>
      <span class="content">{{attributeName}}</span>
    </div>
    {{/each}}
    <br>
    <div class="control-group control-group-2">
      <label for=""><a class="btn btn-primary js-show-firstattr" data-type="{{item.type}}">修改属性</a></label>
    </div>
    <div class="control-group item-attribute">
    </div>
    <div class="control-group">
      <label for="">产品详情:</label>
      <div name="packingList" class="item-detail" data-detail="{{itemDetail.packingList}}">
        {{#inject "common/text-tool"}}
        {
          "placeholderText": "请输入产品详情 ..."
        }
        {{/inject}}
      </div>
    </div>
    <div class="align-center">
      <input type="submit" class="btn btn-primary" value="提交修改">
      <a href="/admin/items" class="btn btn-primary">返回</a>
    </div>
  </fieldset>
</form>
{{/with}}

{{/component}}
